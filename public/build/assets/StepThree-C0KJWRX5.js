import{d as m,e as s,o as r,b as g,a as t,f as c,g as h,F as D,h as N,t as d,l as f,v as S,u as i,p as x,y as V,W as v}from"./app-B2cud8l7.js";import{H as E,_ as A}from"./Footer-D4CRgZWS.js";import{D as C}from"./DestinationStep-BAct_g0f.js";import{u as M}from"./useFlamApplicationStore-D_PHiXGJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"min-h-screen flex flex-col"},q={class:"flex-grow flex flex-col items-center w-[400px] p-3 mx-auto"},F={key:0,class:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white p-4 rounded-lg shadow-lg w-[90%] max-w-md z-50"},B={class:"flex justify-between items-start"},H={class:"text-sm mt-2 list-disc list-inside"},T={class:"max-w-md w-full rounded-xl border border-gray-200 overflow-hidden"},U={class:"bg-white p-6 space-y-6"},O={key:0,class:"text-red-500 text-sm mt-1 block"},z={key:0,class:"text-red-500 text-sm mt-1 block"},K={key:0,class:"text-red-500 text-sm mt-1 block"},L={class:"flex items-start space-x-3 pb-6 text-gray-600 text-sm font-semibold leading-relaxed"},P={key:0,class:"text-red-500 text-sm block"},Q={__name:"StepThree",setup(W){const l=M(),b=m(!1),u=m(""),a=m({}),p=m(!1);function y(){return a.value={},(!l.location||typeof l.location!="string")&&(a.value.location="Location is required."),l.start_date?isNaN(Date.parse(l.start_date))&&(a.value.start_date="Start date must be a valid date."):a.value.start_date="Start date is required.",l.end_date?isNaN(Date.parse(l.end_date))?a.value.end_date="End date must be a valid date.":new Date(l.end_date)<new Date(l.start_date)&&(a.value.end_date="End date cannot be before start date."):a.value.end_date="End date is required.",p.value||(a.value.agreement="You must agree to the terms."),Object.keys(a.value).length===0}function k(){if(!y()){b.value=!0;return}v.get(route("apply.flam.verify"),{contact:l.contact,type:l.type},{preserveState:!0,replace:!0,onError:n=>{if(b.value=!0,n)if(typeof n=="string")u.value=n;else if(typeof n=="object"){const e=Object.values(n)[0];Array.isArray(e)?u.value=e[0]:u.value=e}else u.value="An unexpected error occurred."}})}function _(){v.visit(route("apply.flam.step-two"))}return(n,e)=>(r(),s("div",j,[g(E),t("div",q,[g(C,{class:"w-full"}),b.value?(r(),s("div",F,[t("div",B,[t("div",null,[e[5]||(e[5]=t("b",{class:"block"},"Please correct the following error(s):",-1)),t("ul",H,[(r(!0),s(D,null,N(a.value,(o,w)=>(r(),s("li",{key:w},d(o),1))),128))]),h(" "+d(u.value),1)]),t("button",{onClick:e[0]||(e[0]=o=>b.value=!1),class:"ml-4 text-white font-bold text-xl leading-none"},"Ã—")])])):c("",!0),t("div",T,[t("div",U,[e[11]||(e[11]=t("h2",{class:"font-bold text-lg leading-6 border-l-4 border-black pl-2"},"Kal Duhna Hmun",-1)),t("div",null,[e[7]||(e[7]=t("label",{for:"applicant",class:"block font-semibold text-sm leading-5 mb-1 text-black"},"Mizoram House Kal duhna",-1)),f(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>i(l).location=o),id:"gender",class:"w-full rounded-md border border-gray-300 text-gray-400 placeholder-gray-400 px-4 py-2 text-base leading-6 focus:outline-none focus:ring-2 focus:ring-black focus:border-black appearance-none"},e[6]||(e[6]=[t("option",{disabled:"",selected:""},"Select",-1),t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),512),[[S,i(l).location]]),a.value.location?(r(),s("span",O,d(a.value.location),1)):c("",!0)]),e[12]||(e[12]=t("h2",{class:"font-bold text-lg leading-6 border-l-4 border-black pl-2"},"Period",-1)),t("div",null,[e[8]||(e[8]=t("label",{for:"start_date",class:"block font-semibold text-sm leading-5 mb-1 text-black"},"Arrival/Thlen ni",-1)),f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>i(l).start_date=o),required:"",id:"designation",type:"date",placeholder:"Ni leh thla thlanna",class:"w-full rounded-md border border-gray-300 text-gray-400 placeholder-gray-400 px-4 py-2 text-base leading-6 focus:outline-none focus:ring-2 focus:ring-black focus:border-black"},null,512),[[x,i(l).start_date]]),a.value.start_date?(r(),s("span",z,d(a.value.start_date),1)):c("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"end_date",class:"block font-semibold text-sm leading-5 mb-1 text-black"},"Departure/Chhuah ni",-1)),f(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>i(l).end_date=o),required:"",id:"designation",type:"date",placeholder:"Ni leh thla thlanna",class:"w-full rounded-md border border-gray-300 text-gray-400 placeholder-gray-400 px-4 py-2 text-base leading-6 focus:outline-none focus:ring-2 focus:ring-black focus:border-black"},null,512),[[x,i(l).end_date]]),a.value.end_date?(r(),s("span",K,d(a.value.end_date),1)):c("",!0)]),t("div",L,[f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>p.value=o),type:"checkbox",id:"agreement",name:"agreement",class:"mt-1 w-4 h-4 border border-gray-400 rounded-sm text-black focus:ring-0","aria-describedby":"agreement-desc"},null,512),[[V,p.value]]),e[10]||(e[10]=t("label",{for:"agreement",id:"agreement-desc",class:"block max-w-prose"}," I understand that all reservations are subject to seat availability, and GAD holds no responsibility if accommodation is denied due to a lack of available rooms. ",-1))]),a.value.agreement?(r(),s("span",P,d(a.value.agreement),1)):c("",!0),e[13]||(e[13]=t("hr",{class:"border-t border-gray-200 mt-6"},null,-1)),t("div",{class:"flex gap-4 mt-6"},[t("button",{onClick:_,type:"button",class:"border border-black rounded-lg py-3 text-base font-normal leading-6 text-black flex-grow"}," Back "),t("button",{onClick:k,type:"submit",class:"bg-black rounded-lg py-3 text-base font-normal leading-6 text-white flex-grow-[2]"}," Submit ")])])])]),g(A)]))}};export{Q as default};
