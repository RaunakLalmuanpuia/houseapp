import{d as v,i as N,e as l,o,b as R,a as t,u as U,j as O,k as d,v as u,l as k,f as c,p as f,g as _,q as S,F as b,h as T,L as h,n as C,t as n}from"./app-BtxSZjW6.js";import{_ as E}from"./AuthLayout-CV93_6im.js";const H={class:"bg-[#f7f7f7] p-6 ml-5"},Z={class:"max-w-full bg-[#f7f7f7] rounded-md p-2"},F={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-8 gap-y-6 max-w-full ml-12 mr-12"},P={class:"flex flex-col"},j={class:"flex flex-col"},I={class:"flex flex-col"},B={class:"relative"},Y={class:"flex flex-col"},G={class:"relative"},$={class:"flex flex-col"},K={class:"lg:col-span-2 flex items-end justify-start lg:justify-end"},q={class:"ml-6 py-5 bg-white text-gray-900 font-sans"},z={id:"app",class:"mx-auto"},J={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6"},Q={class:"flex gap-6 mt-4 sm:mt-0 text-gray-900 text-sm font-normal"},W={class:"flex items-center border border-gray-400 rounded-xl px-4 py-2 w-full max-w-xs mr-4"},X={key:0,class:"overflow-x-auto overflow-y-auto"},tt={class:"w-full border-collapse min-w-[900px]"},et={class:"text-xs text-gray-900"},st={class:"py-4 px-3 whitespace-nowrap"},at={class:"py-4 px-3 whitespace-normal max-w-[140px]"},lt={class:"py-4 px-3 whitespace-nowrap"},ot={class:"py-4 px-3 whitespace-nowrap"},rt={class:"py-4 px-3 whitespace-nowrap max-w-[140px]"},nt={class:"py-4 px-3 whitespace-normal max-w-[140px]"},it={class:"py-4 px-3 whitespace-nowrap"},pt={class:"py-4 px-3 whitespace-nowrap text-center"},dt={class:"py-4 px-3 whitespace-nowrap max-w-[100px]"},ct={class:"py-4 px-3 whitespace-nowrap"},xt={class:"py-4 px-3 whitespace-nowrap"},ut={key:1,class:"flex items-center justify-center"},gt={key:2,class:"mt-6 flex items-center justify-end gap-4 text-xs text-gray-600 select-none"},yt={class:"relative inline-block text-left"},ft={class:"flex items-center gap-3 font-semibold"},bt=["disabled","onClick","innerHTML"],mt=Object.assign({layout:E},{__name:"Index",setup(ht){const p=v([]),w=v([]),a=N({perPage:10,search:"",filters:{status:"",category:"",start_date:"",end_date:"",gender:""}}),L=()=>{a.search="",x()},M=()=>{a.search="",a.filters={status:"",category:"",start_date:"",end_date:"",gender:""},p.value=[]},x=(r=route("house.report.json-index"))=>{h.get(r,{params:{search:a.search,perPage:a.perPage,...a.filters}}).then(e=>{const{list:s}=e.data;p.value=s.data,w.value=s.links}).catch(e=>{var s,i;console.error(((i=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:i.message)||e)})},g=()=>{x()},V=r=>{r&&x(r)},A=()=>{h.get(route("house.report.export"),{params:{...a.filters},responseType:"blob"}).then(r=>{const e=window.URL.createObjectURL(new Blob([r.data])),s=document.createElement("a");s.href=e,s.setAttribute("download",Date.now()+".xlsx"),s.click()}).catch(r=>{var e,s;console.log((s=(e=r.response)==null?void 0:e.data)==null?void 0:s.message)}).finally(()=>{})},D=()=>{h.get(route("house.report.download"),{params:{...a.filters},responseType:"blob"}).then(r=>{const e=new Blob([r.data],{type:"application/pdf"}),s=window.URL.createObjectURL(e);let i=document.createElement("a");i.href=s,i.target="_blank",i.click()}).catch(r=>{var e,s;console.log((s=(e=r.response)==null?void 0:e.data)==null?void 0:s.message)}).finally(()=>{})};return(r,e)=>(o(),l(b,null,[R(U(O),{title:"Report"}),t("div",H,[t("div",Z,[e[21]||(e[21]=t("h2",{class:"heading-bar font-semibold text-base mb-6 inline-block"},"Report",-1)),t("div",F,[t("div",P,[e[11]||(e[11]=t("label",{for:"status",class:"text-sm font-semibold mb-1 text-black"},"Status",-1)),d(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.filters.status=s),id:"status",class:"text-sm text-gray-400 placeholder-gray-400 border border-gray-300 rounded-md py-2 px-3 cursor-pointer","aria-label":"Status"},e[10]||(e[10]=[t("option",{value:"",class:"text-gray-400"},"All",-1),t("option",{value:"Forwarded",class:"text-gray-400"},"Incoming",-1),t("option",{value:"Approved",class:"text-gray-400"},"Approved",-1),t("option",{value:"Rejected",class:"text-gray-400"},"Rejected",-1)]),512),[[u,a.filters.status]])]),t("div",j,[e[13]||(e[13]=t("label",{for:"category",class:"text-sm font-semibold mb-1 text-black"},"Category",-1)),d(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.filters.category=s),id:"category",class:"text-sm text-gray-400 placeholder-gray-400 border border-gray-300 rounded-md py-2 px-3 cursor-pointer","aria-label":"Category"},e[12]||(e[12]=[k('<option value="" class="text-gray-400">All</option><option value="FLAM" class="text-gray-400">FLAM</option><option value="ON DUTY" class="text-gray-400">ON DUTY</option><option value="NOT ON DUTY" class="text-gray-400">NOT ON DUTY</option><option value="MEDICAL" class="text-gray-400">MEDICAL</option><option value="PRIVATE" class="text-gray-400">PRIVATE</option><option value="STUDY TOUR" class="text-gray-400">STUDY TOUR</option>',7)]),512),[[u,a.filters.category]])]),t("div",I,[e[15]||(e[15]=t("label",{for:"start-date",class:"text-sm font-semibold mb-1 text-black"},"Start Date (From)",-1)),t("div",B,[d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.filters.start_date=s),type:"date",id:"start-date",placeholder:"Select Date",class:"text-sm text-gray-400 placeholder-gray-400 border border-gray-300 rounded-md py-2 px-3 w-full cursor-pointer","aria-label":"Start Date From"},null,512),[[f,a.filters.start_date]]),e[14]||(e[14]=t("i",{class:"far fa-calendar-alt absolute right-3 top-1/2 -translate-y-1/2 text-black pointer-events-none"},null,-1)),a.filters.start_date?(o(),l("button",{key:0,onClick:e[3]||(e[3]=s=>a.filters.start_date=""),type:"button",class:"absolute right-8 mr-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-black"}," ✕ ")):c("",!0)])]),t("div",Y,[e[17]||(e[17]=t("label",{for:"end-date",class:"text-sm font-semibold mb-1 text-black"},"End Date (Till)",-1)),t("div",G,[d(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.filters.end_date=s),type:"date",id:"end-date",placeholder:"Select Date",class:"text-sm text-gray-400 placeholder-gray-400 border border-gray-300 rounded-md py-2 px-3 w-full cursor-pointer","aria-label":"End Date Till"},null,512),[[f,a.filters.end_date]]),e[16]||(e[16]=t("i",{class:"far fa-calendar-alt absolute right-3 top-1/2 -translate-y-1/2 text-black pointer-events-none"},null,-1)),a.filters.end_date?(o(),l("button",{key:0,onClick:e[5]||(e[5]=s=>a.filters.end_date=""),type:"button",class:"absolute right-8 mr-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-black"}," ✕ ")):c("",!0)])]),t("div",$,[e[19]||(e[19]=t("label",{for:"gender",class:"text-sm font-semibold mb-1 text-black"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>a.filters.gender=s),id:"gender",class:"text-sm text-gray-400 placeholder-gray-400 border border-gray-300 rounded-md py-2 px-3 cursor-pointer","aria-label":"Gender"},e[18]||(e[18]=[t("option",{value:"",class:"text-gray-400"},"All",-1),t("option",{value:"Male",class:"text-gray-400"},"Male",-1),t("option",{value:"Female",class:"text-gray-400"},"Female",-1),t("option",{value:"Other",class:"text-gray-400"},"Other",-1)]),512),[[u,a.filters.gender]])]),e[20]||(e[20]=t("div",{class:"flex flex-col"},null,-1)),t("div",K,[t("button",{onClick:e[7]||(e[7]=s=>x()),type:"submit",class:"bg-black text-white text-sm font-normal rounded-md py-3 px-8 w-full max-w-[220px]"}," Generate Report ")])])])]),t("div",q,[t("div",z,[t("header",J,[e[25]||(e[25]=t("h1",{class:"text-lg font-semibold flex items-center gap-2"},[t("span",{class:"border-l-4 border-black pl-2"},"Generated Report")],-1)),t("nav",Q,[p.value.length>0?(o(),l("button",{key:0,type:"button",onClick:A,class:"flex items-center gap-2 hover:text-gray-700 focus:outline-none"},e[22]||(e[22]=[t("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M7.505 3.97906e-05C7.927 -0.00307257 8.349 0.176407 8.671 0.535366L10.621 2.66214C10.834 2.89868 10.834 3.28462 10.621 3.52116C10.5723 3.57702 10.5128 3.62167 10.4464 3.65223C10.38 3.68279 10.3081 3.69858 10.2355 3.69858C10.1629 3.69858 10.091 3.68279 10.0246 3.65223C9.95824 3.62167 9.89875 3.57702 9.85 3.52116L8 1.50538V9.79775C8 10.1162 7.776 10.3746 7.5 10.3746C7.224 10.3746 7 10.1162 7 9.79775V1.53962L5.18 3.52116C5.13126 3.57685 5.07183 3.62136 5.00553 3.65182C4.93922 3.68227 4.86751 3.698 4.795 3.698C4.72249 3.698 4.65078 3.68227 4.58448 3.65182C4.51817 3.62136 4.45874 3.57685 4.41 3.52116C4.30705 3.4034 4.25003 3.25011 4.25003 3.09113C4.25003 2.93215 4.30705 2.77887 4.41 2.66111L6.36 0.534328C6.50496 0.369455 6.68084 0.237025 6.87686 0.145153C7.07289 0.0532806 7.28493 0.00390101 7.5 3.97906e-05H7.505ZM3.18 6.22476C2.707 6.22476 2.3 6.52977 2.208 6.95409L1.019 12.4007C1.00771 12.4595 1.00135 12.5192 1 12.5792C1 13.0802 1.444 13.4869 1.99 13.4869H13.01C13.0753 13.4869 13.14 13.4811 13.204 13.4693C13.741 13.3707 14.089 12.8925 13.982 12.4007L12.792 6.95409C12.7 6.52977 12.293 6.22476 11.822 6.22476H3.18ZM5 5.18731V6.22476H10V5.18731H11.825C12.771 5.18731 13.585 5.816 13.771 6.6885L14.961 12.2907C15.176 13.3023 14.479 14.2858 13.405 14.4881C13.2765 14.5134 13.1458 14.5255 13.015 14.5244H1.985C0.888 14.5244 0 13.6882 0 12.657C0 12.5332 0.013 12.4111 0.039 12.2907L1.229 6.6885C1.414 5.816 2.229 5.18731 3.174 5.18731H5Z",fill:"black"})],-1),_(" Export ")]))):c("",!0),p.value.length>0?(o(),l("button",{key:1,type:"button",onClick:D,class:"flex items-center gap-2 hover:text-gray-700 focus:outline-none"},e[23]||(e[23]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 15.577L8.461 12.039L9.169 11.319L11.5 13.65V5H12.5V13.65L14.83 11.32L15.539 12.039L12 15.577ZM6.616 19C6.15533 19 5.771 18.846 5.463 18.538C5.155 18.23 5.00067 17.8453 5 17.384V14.961H6V17.384C6 17.538 6.064 17.6793 6.192 17.808C6.32 17.9367 6.461 18.0007 6.615 18H17.385C17.5383 18 17.6793 17.936 17.808 17.808C17.9367 17.68 18.0007 17.5387 18 17.384V14.961H19V17.384C19 17.8447 18.846 18.229 18.538 18.537C18.23 18.845 17.8453 18.9993 17.384 19H6.616Z",fill:"black"})],-1),_(" Download ")]))):c("",!0),p.value.length>0?(o(),l("button",{key:2,type:"button",onClick:M,class:"flex items-center gap-2 hover:text-gray-700 focus:outline-none"}," Clear ")):c("",!0),t("div",W,[d(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>a.search=s),type:"search",placeholder:"Search",onKeyup:S(g,["enter"]),class:"flex-grow text-sm text-gray-700 placeholder-gray-500 focus:outline-none border-none","aria-label":"Search"},null,544),[[f,a.search]]),a.search?(o(),l("button",{key:0,onClick:L,class:"ml-1 text-gray-500 hover:text-red-500",title:"Clear Search"}," ✕ ")):c("",!0),t("button",{onClick:g,type:"submit",class:"ml-2 text-gray-600"},e[24]||(e[24]=[t("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M13.893 13.92L16.973 17M16 8.5C16 10.4891 15.2098 12.3968 13.8033 13.8033C12.3968 15.2098 10.4891 16 8.5 16C6.51088 16 4.60322 15.2098 3.1967 13.8033C1.79018 12.3968 1 10.4891 1 8.5C1 6.51088 1.79018 4.60322 3.1967 3.1967C4.60322 1.79018 6.51088 1 8.5 1C10.4891 1 12.3968 1.79018 13.8033 3.1967C15.2098 4.60322 16 6.51088 16 8.5Z",stroke:"#61646B","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])]),p.value.length>0?(o(),l("section",X,[t("table",tt,[e[26]||(e[26]=t("thead",null,[t("tr",{class:"bg-gray-700 text-white text-xs font-bold text-left"},[t("th",{class:"py-3 px-3 whitespace-nowrap"},"SLNO"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"APPLICANT NAME"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"CONTACT"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"GENDER"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"DESIGNATION"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"DEPARTMENT"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"REASON"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"NO. OF PERSONS"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"HOUSE"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"ARRIVAL"),t("th",{class:"py-3 px-3 whitespace-nowrap"},"DEPARTURE")])],-1)),t("tbody",et,[(o(!0),l(b,null,T(p.value,(s,i)=>{var y,m;return o(),l("tr",{key:s.id,class:C(i%2===1?"bg-gray-50 border-b border-gray-100":"border-b border-gray-200")},[t("td",st,n(s.application_id),1),t("td",at,n(s.applicant_name),1),t("td",lt,n(s.contact),1),t("td",ot,n(s.gender),1),t("td",rt,n(s.designation??"N/A"),1),t("td",nt,n(s.type==="STUDY TOUR"?((y=s.study_tour_details)==null?void 0:y.institution)||"N/A":((m=s.department)==null?void 0:m.name)||"N/A"),1),t("td",it,[t("span",{class:C(["inline-block rounded-full px-3 py-1 text-[10px] font-medium select-none",s.type==="ON DUTY"?"bg-indigo-200 text-indigo-700":s.type==="MEDICAL"?"bg-blue-200 text-blue-600":s.type==="NOT ON DUTY"?"bg-yellow-200 text-yellow-700":s.type==="FLAM"?"bg-yellow-100 text-yellow-800":s.type==="PRIVATE"?"bg-green-100 text-yellow-800":s.type==="STUDY TOUR"?"bg-red-200 text-red-700":""])},n(s.type),3)]),t("td",pt,n(s.number_of_persons),1),t("td",dt,n(s.house.name),1),t("td",ct,n(s.start_date),1),t("td",xt,n(s.end_date),1)],2)}),128))])])])):(o(),l("section",ut,e[27]||(e[27]=[k('<div class="bg-white flex items-center justify-center"><div class="text-center"><svg class="mx-auto mb-4" width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_534_2321)"><path d="M33.7969 0H8.20312C3.67266 0 0 3.67266 0 8.20312V33.7969C0 38.3273 3.67266 42 8.20312 42H33.7969C38.3273 42 42 38.3273 42 33.7969V8.20312C42 3.67266 38.3273 0 33.7969 0Z" fill="#FFDA24"></path><path d="M42 28.875V33.7969C42 38.3275 38.3275 42 33.7969 42H8.20312C3.67254 42 0 38.3275 0 33.7969V28.875C0 33.4056 3.67254 37.0781 8.20312 37.0781H33.7969C38.3275 37.0781 42 33.4056 42 28.875Z" fill="#FFC024"></path><path d="M24.7317 11.6428C25.0664 10.6937 26.2591 10.3869 27.0064 11.0604C27.6881 11.6748 28.5913 12.3138 29.6831 12.6985C30.775 13.0832 31.8791 13.1513 32.7954 13.1005C33.8003 13.0439 34.5369 14.0307 34.2022 14.9798C34.0488 15.4146 33.6944 15.7493 33.2507 15.8707C32.3754 16.1094 30.7626 16.3202 28.6667 15.5811C26.5708 14.8428 25.4462 13.6673 24.9138 12.9331C24.6439 12.5599 24.5775 12.0767 24.7309 11.6428H24.7317Z" fill="#473535"></path><path d="M17.2627 11.6428C16.9281 10.6937 15.7353 10.3869 14.988 11.0604C14.3063 11.6748 13.4032 12.3138 12.3113 12.6985C11.2195 13.0832 10.1154 13.1513 9.19907 13.1005C8.19419 13.0439 7.45755 14.0307 7.79223 14.9798C7.94563 15.4146 8.30001 15.7493 8.7438 15.8707C9.61907 16.1094 11.2318 16.3202 13.3277 15.5811C15.4236 14.8428 16.5483 13.6673 17.0806 12.9331C17.3505 12.5599 17.417 12.0767 17.2636 11.6428H17.2627Z" fill="#473535"></path><path d="M15.385 33.1312C15.4326 32.4462 17.092 30.0771 20.9967 30.0771C24.9014 30.0771 26.5609 32.4462 26.6085 33.1312C26.6511 33.7456 26.2295 34.004 25.7111 33.8982C25.1943 33.7923 23.9203 32.5963 20.9959 32.5963C18.0715 32.5963 16.7984 33.7923 16.2808 33.8982C15.764 34.004 15.3407 33.7456 15.3833 33.1312H15.385Z" fill="#473535"></path><path d="M28.3705 27.3973C31.14 27.3973 33.3851 25.1522 33.3851 22.3827C33.3851 19.6133 31.14 17.3682 28.3705 17.3682C25.6011 17.3682 23.356 19.6133 23.356 22.3827C23.356 25.1522 25.6011 27.3973 28.3705 27.3973Z" fill="white"></path><path d="M28.3704 25.065C30.169 25.065 31.6271 23.607 31.6271 21.8084C31.6271 20.0098 30.169 18.5518 28.3704 18.5518C26.5718 18.5518 25.1138 20.0098 25.1138 21.8084C25.1138 23.607 26.5718 25.065 28.3704 25.065Z" fill="#473535"></path><path d="M29.9471 21.9108C30.8749 21.9108 31.6271 21.1586 31.6271 20.2308C31.6271 19.3029 30.8749 18.5508 29.9471 18.5508C29.0193 18.5508 28.2671 19.3029 28.2671 20.2308C28.2671 21.1586 29.0193 21.9108 29.9471 21.9108Z" fill="white"></path><path d="M13.6296 27.3973C16.399 27.3973 18.6441 25.1522 18.6441 22.3827C18.6441 19.6133 16.399 17.3682 13.6296 17.3682C10.8601 17.3682 8.61499 19.6133 8.61499 22.3827C8.61499 25.1522 10.8601 27.3973 13.6296 27.3973Z" fill="white"></path><path d="M13.6294 25.065C15.428 25.065 16.8861 23.607 16.8861 21.8084C16.8861 20.0098 15.428 18.5518 13.6294 18.5518C11.8309 18.5518 10.3728 20.0098 10.3728 21.8084C10.3728 23.607 11.8309 25.065 13.6294 25.065Z" fill="#473535"></path><path d="M15.2061 21.9108C16.134 21.9108 16.8861 21.1586 16.8861 20.2308C16.8861 19.3029 16.134 18.5508 15.2061 18.5508C14.2783 18.5508 13.5261 19.3029 13.5261 20.2308C13.5261 21.1586 14.2783 21.9108 15.2061 21.9108Z" fill="white"></path></g><defs><clipPath id="clip0_534_2321"><rect width="42" height="42" fill="white"></rect></clipPath></defs></svg><p class="text-gray-400 font-normal text-base leading-6 max-w-xs mx-auto"> Sorry to inform you that record is not found. </p></div></div>',1)]))),p.value.length>0?(o(),l("footer",gt,[e[30]||(e[30]=t("span",null,"Records per page:",-1)),t("div",yt,[d(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>a.perPage=s),onChange:g,class:"appearance-none bg-white border border-gray-400 text-sm px-3 py-1 pr-6 rounded-lg font-semibold text-gray-700 cursor-pointer focus:outline-none"},e[28]||(e[28]=[t("option",{value:10},"10",-1),t("option",{value:25},"25",-1),t("option",{value:50},"50",-1),t("option",{value:100},"100",-1)]),544),[[u,a.perPage]]),e[29]||(e[29]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-600"},[t("i",{class:"fas fa-caret-down"})],-1))]),t("nav",ft,[(o(!0),l(b,null,T(w.value,(s,i)=>(o(),l("button",{key:i,disabled:!s.url,onClick:y=>V(s.url),innerHTML:s.label,class:C(["min-w-[32px] h-8 px-2 border rounded-sm flex items-center justify-center cursor-pointer select-none",s.active?"bg-gray-900 text-white border-gray-900":"hover:underline border-gray-300 text-gray-700",s.url?"":"opacity-50 cursor-not-allowed"])},null,10,bt))),128))])])):c("",!0)])])],64))}});export{mt as default};
