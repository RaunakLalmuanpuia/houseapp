import{i as N,x as _,e as r,o as n,b as c,a as t,u as e,k as U,m as P,l as d,f as m,p as x,t as a,K as O,F as $}from"./app-CMFSu9xV.js";import{_ as C,a as E}from"./Footer-Di-F8hKJ.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"flex items-start justify-center px-4 mt-2"},T={class:"w-full sm:w-1/2 px-2"},B={key:0,class:"flex flex-col gap-2"},D={key:1,class:"flex flex-col gap-2 justify-center items-center"},F={key:0,class:"w-full max-w-md"},j={key:0,class:"text-red-600 text-sm mt-1"},G={key:0,class:"text-red-600 text-sm mt-1"},I={key:0,class:"text-red-600 text-sm mt-1"},K={key:0,class:"text-red-600 text-sm mt-1"},Y={class:"relative"},q=["type"],z={key:0,class:"text-red-600 text-sm mt-1"},A=["type"],H={key:0,class:"text-red-600 text-sm mt-1"},J={__name:"Register",setup(L){const i=N({sentOtp:!1,visiblePassword:!1}),o=_({name:"",mobile:"",email:"",password:"",password_confirmation:""}),u=_({mobile_otp:"",email_otp:""}),V=p=>{u.transform(s=>({...s,...o.data()})).post(route("register.confirm-otp"),{onStart:s=>{},onSuccess:s=>{i.sentOtp=!1}})},S=p=>{axios.post(route("register.send-otp"),o.data()).then(s=>{s.data.status&&(i.sentOtp=!0),o.setError({})}).catch(s=>{var f,b;i.sentOtp=!1,(b=(f=s==null?void 0:s.response)==null?void 0:f.data)!=null&&b.errors&&o.setError(s.response.data.errors)})};return(p,s)=>{var f,b,g,w,y,v,k;return n(),r($,null,[c(e(U),{title:"Register"}),c(C),t("div",R,[t("div",T,[(f=p.$page.props.auth)!=null&&f.user?(n(),r("div",B,[s[8]||(s[8]=t("p",{class:"text-gray-800"},"You are logged in",-1)),t("button",{onClick:s[0]||(s[0]=l=>p.$inertia.get(p.route("dashboard"))),class:"text-blue-600 underline"}," Go to dashboard ")])):(n(),r("div",D,[i.sentOtp?(n(),r("div",F,[t("form",{onSubmit:P(V,["prevent"]),class:"flex flex-col gap-4"},[s[10]||(s[10]=t("p",{class:"text-lg font-semibold text-left"},"OTP",-1)),t("div",null,[s[9]||(s[9]=t("label",{class:"block text-sm font-medium mb-1"},"Mobile OTP",-1)),d(t("input",{type:"text",maxlength:"4","onUpdate:modelValue":s[1]||(s[1]=l=>e(u).mobile_otp=l),class:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,e(u).mobile_otp]]),(b=e(u).errors)!=null&&b.mobile_otp?(n(),r("p",j,a(e(u).errors.mobile_otp),1)):m("",!0)]),s[11]||(s[11]=t("div",{class:"text-blue-600 font-semibold cursor-pointer text-left"}," Resend OTP ",-1)),s[12]||(s[12]=t("div",{class:"flex"},[t("button",{type:"submit",class:"mt-6 w-60 bg-black text-white py-2 rounded-md hover:bg-black mx-auto block"},"Confirm")],-1))],32)])):(n(),r("form",{key:1,onSubmit:P(S,["prevent"]),class:"w-full max-w-md flex flex-col gap-4"},[s[18]||(s[18]=t("div",{class:"text-left"},[t("p",{class:"text-lg font-semibold"},"Sign up")],-1)),t("div",null,[s[13]||(s[13]=t("label",{class:"block text-sm font-medium mb-1"},"Name",-1)),d(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=l=>e(o).name=l),class:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,e(o).name]]),(g=e(o).errors)!=null&&g.name?(n(),r("p",G,a(e(o).errors.name),1)):m("",!0)]),t("div",null,[s[14]||(s[14]=t("label",{class:"block text-sm font-medium mb-1"},"Phone Number",-1)),d(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=l=>e(o).mobile=l),maxlength:"10",class:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,e(o).mobile]]),(w=e(o).errors)!=null&&w.mobile?(n(),r("p",I,a(e(o).errors.mobile),1)):m("",!0)]),t("div",null,[s[15]||(s[15]=t("label",{class:"block text-sm font-medium mb-1"},"Email",-1)),d(t("input",{type:"email","onUpdate:modelValue":s[4]||(s[4]=l=>e(o).email=l),class:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,e(o).email]]),(y=e(o).errors)!=null&&y.email?(n(),r("p",K,a(e(o).errors.email),1)):m("",!0)]),t("div",null,[s[16]||(s[16]=t("label",{class:"block text-sm font-medium mb-1"},"Password",-1)),t("div",Y,[d(t("input",{type:i.visiblePassword?"text":"password","onUpdate:modelValue":s[5]||(s[5]=l=>e(o).password=l),class:"w-full border rounded px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,q),[[O,e(o).password]]),t("span",{class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600 cursor-pointer",onClick:s[6]||(s[6]=l=>i.visiblePassword=!i.visiblePassword)},a(i.visiblePassword?"👁":"👁‍🗨"),1)]),(v=e(o).errors)!=null&&v.password?(n(),r("p",z,a(e(o).errors.password),1)):m("",!0)]),t("div",null,[s[17]||(s[17]=t("label",{class:"block text-sm font-medium mb-1"},"Confirm Password",-1)),d(t("input",{type:i.visiblePassword?"text":"password","onUpdate:modelValue":s[7]||(s[7]=l=>e(o).password_confirmation=l),class:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,A),[[O,e(o).password_confirmation]]),(k=e(o).errors)!=null&&k.password_confirmation?(n(),r("p",H,a(e(o).errors.password_confirmation),1)):m("",!0)]),s[19]||(s[19]=t("div",{class:"flex mt-2"},[t("button",{type:"submit",class:"mt-6 w-60 bg-black text-white py-2 rounded-md hover:bg-black mx-auto block"},"Next")],-1))],32))]))])]),c(E)],64)}}},Z=M(J,[["__scopeId","data-v-7bfe09d0"]]);export{Z as default};
