import{_ as F}from"./AuthLayout-BQ68BJEQ.js";import{d as A,x as h,e as m,o as u,a as t,f as w,l as d,p,u as n,v as y,F as c,h as x,t as C,j as U,b as M,k as O,c as L}from"./app-SzJCgBmV.js";const S={class:"max-w-5xl mx-auto p-8 bg-white shadow-lg rounded-lg"},_={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},P=["value"],E={class:"md:col-span-2 mt-6"},H=["onUpdate:modelValue"],N=["onUpdate:modelValue"],j=["onUpdate:modelValue"],Z=["onUpdate:modelValue"],G={class:"md:col-span-2 text-right"},B=["onClick"],R={class:"md:col-span-2 mt-6"},T=["onUpdate:modelValue"],I=["onUpdate:modelValue"],z={class:"md:col-span-2 text-right"},Y=["onClick"],q={class:"md:col-span-2 mt-6 flex justify-center"},J={key:0,class:"fixed bottom-4 left-1/2 transform -translate-x-1/2 lg:-translate-x-[22%] z-50 w-[90%] sm:w-auto"},K={class:"w-full sm:max-w-md bg-yellow-300 rounded-lg shadow-md flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4 p-4",role:"alert"},Q={__name:"FLAM",props:["application","house"],setup(b){const r=b,s=A(!1),a=h({id:r.application.id,type:r.application.type,application_id:r.application.application_id,applicant_name:r.application.applicant_name,gender:r.application.gender,contact:r.application.contact,designation:r.application.designation,department:r.application.department,department_approval:r.application.department_approval,location:r.application.location,start_date:r.application.start_date,end_date:r.application.end_date,reject_reason:r.application.reject_reason,flam_details:r.application.flam_details??[],family_members:r.application.family_members??[]});function $(){a.flam_details.push({flam_name:"",gender:"",contact:"",designation:""})}function D(o){a.flam_details.splice(o,1)}function k(){a.family_members.push({name:"",relation:""})}function V(o){a.family_members.splice(o,1)}const f=o=>{a.put(route("applications.flam.update",o),{onStart:()=>{},onSuccess:l=>{s.value=!0},onError:l=>{if(l)if(typeof l=="string")alert(l);else if(typeof l=="object"){const e=Object.values(l)[0];Array.isArray(e)?alert(e[0]):alert(e)}else alert("An unexpected error occurred.");s.value=!1},onFinish:()=>{}})};return(o,l)=>(u(),m(c,null,[t("div",S,[l[31]||(l[31]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"Application Form",-1)),t("div",_,[t("div",null,[l[11]||(l[11]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Type",-1)),d(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>n(a).type=e),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(a).type]])]),t("div",null,[l[12]||(l[12]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Application ID",-1)),d(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>n(a).application_id=e),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(a).application_id]])]),t("div",null,[l[13]||(l[13]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Applicant Name",-1)),d(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>n(a).applicant_name=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).applicant_name]])]),t("div",null,[l[15]||(l[15]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>n(a).gender=e),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},l[14]||(l[14]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),512),[[y,n(a).gender]])]),t("div",null,[l[16]||(l[16]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>n(a).contact=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).contact]])]),t("div",null,[l[17]||(l[17]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>n(a).designation=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).designation]])]),t("div",null,[l[19]||(l[19]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Location",-1)),d(t("select",{"onUpdate:modelValue":l[6]||(l[6]=e=>n(a).location=e),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},[l[18]||(l[18]=t("option",{value:""},"Select Location",-1)),(u(!0),m(c,null,x(b.house,e=>(u(),m("option",{key:e.id,value:e.id},C(e.name),9,P))),128))],512),[[y,n(a).location]])]),t("div",null,[l[20]||(l[20]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Start Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":l[7]||(l[7]=e=>n(a).start_date=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).start_date]])]),t("div",null,[l[21]||(l[21]=t("label",{class:"block text-gray-700 font-medium mb-2"},"End Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":l[8]||(l[8]=e=>n(a).end_date=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).end_date]])]),t("div",E,[l[27]||(l[27]=t("h2",{class:"text-lg font-bold mb-2"},"Other FLAM Details",-1)),(u(!0),m(c,null,x(n(a).flam_details,(e,i)=>(u(),m("div",{key:i,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[l[22]||(l[22]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":g=>e.flam_name=g,class:"w-full border p-3 rounded-md"},null,8,H),[[p,e.flam_name]])]),t("div",null,[l[24]||(l[24]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":g=>e.gender=g,class:"w-full border p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},l[23]||(l[23]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),8,N),[[y,e.gender]])]),t("div",null,[l[25]||(l[25]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":g=>e.contact=g,class:"w-full border p-3 rounded-md"},null,8,j),[[p,e.contact]])]),t("div",null,[l[26]||(l[26]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":g=>e.designation=g,class:"w-full border p-3 rounded-md"},null,8,Z),[[p,e.designation]])]),t("div",G,[t("button",{type:"button",onClick:g=>D(i),class:"text-red-500 hover:underline"},"Remove",8,B)])]))),128)),t("button",{type:"button",onClick:$,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add On Duty")]),t("div",R,[l[30]||(l[30]=t("h2",{class:"text-lg font-bold mb-2"},"Family Members",-1)),(u(!0),m(c,null,x(n(a).family_members,(e,i)=>(u(),m("div",{key:i,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[l[28]||(l[28]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":g=>e.name=g,class:"w-full border p-3 rounded-md"},null,8,T),[[p,e.name]])]),t("div",null,[l[29]||(l[29]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Relation",-1)),d(t("input",{"onUpdate:modelValue":g=>e.relation=g,class:"w-full border p-3 rounded-md"},null,8,I),[[p,e.relation]])]),t("div",z,[t("button",{type:"button",onClick:g=>V(i),class:"text-red-500 hover:underline"},"Remove",8,Y)])]))),128)),t("button",{type:"button",onClick:k,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add Family Member")]),t("div",q,[t("button",{onClick:l[9]||(l[9]=e=>f(b.application)),type:"submit",class:"w-1/2 text-center bg-black text-white px-6 py-3 rounded-md hover:bg-blue-700 transition"}," Update Application ")])])]),s.value?(u(),m("div",J,[t("div",K,[l[33]||(l[33]=U('<div class="flex-shrink-0 mt-1"><svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_708_1780" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21"><rect y="0.5" width="20" height="20" fill="#D9D9D9"></rect></mask><g mask="url(#mask0_708_1780)"><path d="M4.41675 17.5837C4.00008 17.5837 3.64591 17.4378 3.35425 17.1462C3.06258 16.8545 2.91675 16.5003 2.91675 16.0837V4.91699C2.91675 4.50033 3.06258 4.14616 3.35425 3.85449C3.64591 3.56283 4.00008 3.41699 4.41675 3.41699H15.5834C16.0001 3.41699 16.3542 3.56283 16.6459 3.85449C16.9376 4.14616 17.0834 4.50033 17.0834 4.91699V16.0837C17.0834 16.5003 16.9376 16.8545 16.6459 17.1462C16.3542 17.4378 16.0001 17.5837 15.5834 17.5837H4.41675ZM4.41675 16.3337H15.5834C15.639 16.3337 15.6945 16.3059 15.7501 16.2503C15.8056 16.1948 15.8334 16.1392 15.8334 16.0837V4.91699C15.8334 4.86144 15.8056 4.80588 15.7501 4.75033C15.6945 4.69477 15.639 4.66699 15.5834 4.66699H4.41675C4.36119 4.66699 4.30564 4.69477 4.25008 4.75033C4.19453 4.80588 4.16675 4.86144 4.16675 4.91699V16.0837C4.16675 16.1392 4.19453 16.1948 4.25008 16.2503C4.30564 16.3059 4.36119 16.3337 4.41675 16.3337ZM5.62508 14.4587H14.4376L11.7084 10.8128L9.35425 13.8545L7.68758 11.7087L5.62508 14.4587Z" fill="#34A853"></path></g></svg></div><div class="flex-1"><p class="font-extrabold text-yellow-900 text-lg leading-6">Success</p><p class="text-yellow-900 text-base leading-6 mt-1"> Application updated successfully! </p></div>',2)),t("button",{onClick:l[10]||(l[10]=e=>s.value=!1),"aria-label":"Close notification",class:"text-green-900 hover:text-green-800 focus:outline-none focus:ring-2 focus:ring-green-600 rounded mt-2 sm:mt-1 sm:ml-4"},l[32]||(l[32]=[U('<svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_708_1788)"><rect width="14" height="14" transform="translate(4 3.5)" fill="white" fill-opacity="0.01"></rect><g clip-path="url(#clip1_708_1788)"><path d="M4.25594 3.75541C4.42003 3.59137 4.64255 3.49922 4.87457 3.49922C5.10659 3.49922 5.32911 3.59137 5.49319 3.75541L10.9996 9.26178L16.5059 3.75541C16.5867 3.67184 16.6832 3.60518 16.79 3.55932C16.8967 3.51346 17.0115 3.48932 17.1277 3.48831C17.2439 3.4873 17.3591 3.50944 17.4667 3.55344C17.5742 3.59744 17.6719 3.66241 17.754 3.74456C17.8362 3.82672 17.9012 3.92441 17.9452 4.03195C17.9892 4.13948 18.0113 4.2547 18.0103 4.37088C18.0093 4.48707 17.9851 4.60188 17.9393 4.70864C17.8934 4.81539 17.8268 4.91194 17.7432 4.99266L12.2368 10.499L17.7432 16.0054C17.9026 16.1704 17.9908 16.3915 17.9888 16.6209C17.9868 16.8503 17.8948 17.0698 17.7325 17.232C17.5703 17.3942 17.3508 17.4863 17.1214 17.4882C16.892 17.4902 16.671 17.402 16.5059 17.2427L10.9996 11.7363L5.49319 17.2427C5.32817 17.402 5.10714 17.4902 4.87772 17.4882C4.6483 17.4863 4.42883 17.3942 4.2666 17.232C4.10437 17.0698 4.01235 16.8503 4.01035 16.6209C4.00836 16.3915 4.09656 16.1704 4.25594 16.0054L9.76232 10.499L4.25594 4.99266C4.09191 4.82857 3.99976 4.60605 3.99976 4.37403C3.99976 4.14201 4.09191 3.9195 4.25594 3.75541Z" fill="#1C1D1F"></path></g></g><defs><clipPath id="clip0_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath><clipPath id="clip1_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath></defs></svg>',1)]))])])):w("",!0)],64))}},W={class:"max-w-5xl mx-auto p-8 bg-white shadow-lg rounded-lg"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},tt=["value"],lt=["value"],et={class:"md:col-span-2 mt-6"},nt=["onUpdate:modelValue"],ot=["onUpdate:modelValue"],at=["onUpdate:modelValue"],it=["onUpdate:modelValue"],dt=["onUpdate:modelValue"],st=["value"],rt=["onChange"],ut=["onClick"],pt={class:"md:col-span-2 text-right"},mt=["onClick"],bt={class:"md:col-span-2 mt-6"},gt=["onUpdate:modelValue"],ft=["onUpdate:modelValue"],ct={class:"md:col-span-2 text-right"},yt=["onClick"],vt={class:"md:col-span-2 mt-6 flex justify-center"},xt={key:0,class:"fixed bottom-4 left-1/2 transform -translate-x-1/2 lg:-translate-x-[22%] z-50 w-[90%] sm:w-auto"},wt={class:"w-full sm:max-w-md bg-yellow-300 rounded-lg shadow-md flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4 p-4",role:"alert"},Ct={__name:"OnDuty",props:{application:Object,house:Array,departments:Array},setup(b){const r=b,s=A(!1),a=h({application_id:r.application.application_id,applicant_name:r.application.applicant_name||"",gender:r.application.gender||"",contact:r.application.contact||"",designation:r.application.designation||"",department:r.application.department_id||"",department_approval:null,location:r.application.location||"",start_date:r.application.start_date||"",end_date:r.application.end_date||"",type:r.application.type||"",on_duty_details:r.application.on_duty_details.map(l=>({id:l.id,name:l.name,gender:l.gender,contact:l.contact,designation:l.designation,department:l.department_id,department_approval:null,existing_approval:l.department_approval})),family_members:r.application.family_members.map(l=>({id:l.id,name:l.name,relation:l.relation}))}),$=()=>{a.on_duty_details.push({id:null,name:"",gender:"",contact:"",designation:"",department:"",department_approval:null,existing_approval:null})},D=l=>{a.on_duty_details.splice(l,1)},k=()=>{a.family_members.push({id:null,name:"",relation:""})},V=l=>{a.family_members.splice(l,1)},f=l=>{a.post(route("applications.on-duty.update",l),{preserveScroll:!0,onStart:()=>{},onSuccess:e=>{s.value=!0},onError:e=>{if(e)if(typeof e=="string")alert(e);else if(typeof e=="object"){const i=Object.values(e)[0];Array.isArray(i)?alert(i[0]):alert(i)}else alert("An unexpected error occurred.");s.value=!1},onFinish:()=>{}})},o=l=>{let e=document.createElement("a");e.target="_blank",e.href=`/storage/${l}`,e.click()};return(l,e)=>(u(),m(c,null,[t("div",W,[e[42]||(e[42]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"Application Form",-1)),t("div",X,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Type",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>n(a).type=i),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(a).type]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Application ID",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>n(a).application_id=i),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(a).application_id]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Applicant Name",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>n(a).applicant_name=i),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).applicant_name]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":e[3]||(e[3]=i=>n(a).gender=i),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},e[17]||(e[17]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),512),[[y,n(a).gender]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>n(a).contact=i),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).contact]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>n(a).designation=i),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).designation]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Department",-1)),d(t("select",{"onUpdate:modelValue":e[6]||(e[6]=i=>n(a).department=i),id:"department",class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},[e[21]||(e[21]=t("option",{value:""},"Select Department",-1)),(u(!0),m(c,null,x(b.departments,i=>(u(),m("option",{key:i.id,value:i.id},C(i.name),9,tt))),128))],512),[[y,n(a).department]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Location",-1)),d(t("select",{"onUpdate:modelValue":e[7]||(e[7]=i=>n(a).location=i),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},[e[23]||(e[23]=t("option",{value:""},"Select Location",-1)),(u(!0),m(c,null,x(b.house,i=>(u(),m("option",{key:i.id,value:i.id},C(i.name),9,lt))),128))],512),[[y,n(a).location]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Start Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":e[8]||(e[8]=i=>n(a).start_date=i),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).start_date]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-gray-700 font-medium mb-2"},"End Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":e[9]||(e[9]=i=>n(a).end_date=i),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).end_date]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Department Approval PDF",-1)),t("input",{type:"file",onChange:e[10]||(e[10]=i=>n(a).department_approval=i.target.files[0]),class:"w-full border border-gray-300 p-3 rounded-md"},null,32),r.application.department_approval?(u(),m("div",{key:0,onClick:e[11]||(e[11]=i=>o(r.application.department_approval)),class:"mt-2 text-blue-600 cursor-pointer"},e[27]||(e[27]=[t("p",{class:"underline"},"View Existing PDF",-1)]))):w("",!0)]),t("div",et,[e[38]||(e[38]=t("h2",{class:"text-lg font-bold mb-2"},"Other On Duty Details",-1)),(u(!0),m(c,null,x(n(a).on_duty_details,(i,g)=>(u(),m("div",{key:g,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[e[29]||(e[29]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":v=>i.name=v,class:"w-full border p-3 rounded-md"},null,8,nt),[[p,i.name]])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":v=>i.gender=v,class:"w-full border p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},e[30]||(e[30]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),8,ot),[[y,i.gender]])]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":v=>i.contact=v,class:"w-full border p-3 rounded-md"},null,8,at),[[p,i.contact]])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":v=>i.designation=v,class:"w-full border p-3 rounded-md"},null,8,it),[[p,i.designation]])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Department",-1)),d(t("select",{"onUpdate:modelValue":v=>i.department=v,id:"department",class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},[e[34]||(e[34]=t("option",{disabled:"",value:""},"Select Department",-1)),(u(!0),m(c,null,x(b.departments,v=>(u(),m("option",{key:v.id,value:v.id},C(v.name),9,st))),128))],8,dt),[[y,i.department]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Approval PDF",-1)),t("input",{type:"file",onChange:v=>i.department_approval=v.target.files[0],class:"w-full border p-3 rounded-md"},null,40,rt),i.existing_approval?(u(),m("div",{key:0,onClick:v=>o(i.existing_approval),class:"mt-2 text-blue-600 cursor-pointer"},e[36]||(e[36]=[t("p",{class:"underline"},"View Existing PDF",-1)]),8,ut)):w("",!0)]),t("div",pt,[t("button",{type:"button",onClick:v=>D(g),class:"text-red-500 hover:underline"},"Remove",8,mt)])]))),128)),t("button",{type:"button",onClick:$,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add On Duty")]),t("div",bt,[e[41]||(e[41]=t("h2",{class:"text-lg font-bold mb-2"},"Family Members",-1)),(u(!0),m(c,null,x(n(a).family_members,(i,g)=>(u(),m("div",{key:g,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[e[39]||(e[39]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":v=>i.name=v,class:"w-full border p-3 rounded-md"},null,8,gt),[[p,i.name]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Relation",-1)),d(t("input",{"onUpdate:modelValue":v=>i.relation=v,class:"w-full border p-3 rounded-md"},null,8,ft),[[p,i.relation]])]),t("div",ct,[t("button",{type:"button",onClick:v=>V(g),class:"text-red-500 hover:underline"},"Remove",8,yt)])]))),128)),t("button",{type:"button",onClick:k,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add Family Member")]),t("div",vt,[t("button",{onClick:e[12]||(e[12]=i=>f(b.application)),type:"submit",class:"w-1/2 text-center bg-black text-white px-6 py-3 rounded-md hover:bg-blue-700 transition"}," Update Application ")])])]),s.value?(u(),m("div",xt,[t("div",wt,[e[44]||(e[44]=U('<div class="flex-shrink-0 mt-1"><svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_708_1780" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21"><rect y="0.5" width="20" height="20" fill="#D9D9D9"></rect></mask><g mask="url(#mask0_708_1780)"><path d="M4.41675 17.5837C4.00008 17.5837 3.64591 17.4378 3.35425 17.1462C3.06258 16.8545 2.91675 16.5003 2.91675 16.0837V4.91699C2.91675 4.50033 3.06258 4.14616 3.35425 3.85449C3.64591 3.56283 4.00008 3.41699 4.41675 3.41699H15.5834C16.0001 3.41699 16.3542 3.56283 16.6459 3.85449C16.9376 4.14616 17.0834 4.50033 17.0834 4.91699V16.0837C17.0834 16.5003 16.9376 16.8545 16.6459 17.1462C16.3542 17.4378 16.0001 17.5837 15.5834 17.5837H4.41675ZM4.41675 16.3337H15.5834C15.639 16.3337 15.6945 16.3059 15.7501 16.2503C15.8056 16.1948 15.8334 16.1392 15.8334 16.0837V4.91699C15.8334 4.86144 15.8056 4.80588 15.7501 4.75033C15.6945 4.69477 15.639 4.66699 15.5834 4.66699H4.41675C4.36119 4.66699 4.30564 4.69477 4.25008 4.75033C4.19453 4.80588 4.16675 4.86144 4.16675 4.91699V16.0837C4.16675 16.1392 4.19453 16.1948 4.25008 16.2503C4.30564 16.3059 4.36119 16.3337 4.41675 16.3337ZM5.62508 14.4587H14.4376L11.7084 10.8128L9.35425 13.8545L7.68758 11.7087L5.62508 14.4587Z" fill="#34A853"></path></g></svg></div><div class="flex-1"><p class="font-extrabold text-yellow-900 text-lg leading-6">Success</p><p class="text-yellow-900 text-base leading-6 mt-1"> Application updated successfully! </p></div>',2)),t("button",{onClick:e[13]||(e[13]=i=>s.value=!1),"aria-label":"Close notification",class:"text-green-900 hover:text-green-800 focus:outline-none focus:ring-2 focus:ring-green-600 rounded mt-2 sm:mt-1 sm:ml-4"},e[43]||(e[43]=[U('<svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_708_1788)"><rect width="14" height="14" transform="translate(4 3.5)" fill="white" fill-opacity="0.01"></rect><g clip-path="url(#clip1_708_1788)"><path d="M4.25594 3.75541C4.42003 3.59137 4.64255 3.49922 4.87457 3.49922C5.10659 3.49922 5.32911 3.59137 5.49319 3.75541L10.9996 9.26178L16.5059 3.75541C16.5867 3.67184 16.6832 3.60518 16.79 3.55932C16.8967 3.51346 17.0115 3.48932 17.1277 3.48831C17.2439 3.4873 17.3591 3.50944 17.4667 3.55344C17.5742 3.59744 17.6719 3.66241 17.754 3.74456C17.8362 3.82672 17.9012 3.92441 17.9452 4.03195C17.9892 4.13948 18.0113 4.2547 18.0103 4.37088C18.0093 4.48707 17.9851 4.60188 17.9393 4.70864C17.8934 4.81539 17.8268 4.91194 17.7432 4.99266L12.2368 10.499L17.7432 16.0054C17.9026 16.1704 17.9908 16.3915 17.9888 16.6209C17.9868 16.8503 17.8948 17.0698 17.7325 17.232C17.5703 17.3942 17.3508 17.4863 17.1214 17.4882C16.892 17.4902 16.671 17.402 16.5059 17.2427L10.9996 11.7363L5.49319 17.2427C5.32817 17.402 5.10714 17.4902 4.87772 17.4882C4.6483 17.4863 4.42883 17.3942 4.2666 17.232C4.10437 17.0698 4.01235 16.8503 4.01035 16.6209C4.00836 16.3915 4.09656 16.1704 4.25594 16.0054L9.76232 10.499L4.25594 4.99266C4.09191 4.82857 3.99976 4.60605 3.99976 4.37403C3.99976 4.14201 4.09191 3.9195 4.25594 3.75541Z" fill="#1C1D1F"></path></g></g><defs><clipPath id="clip0_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath><clipPath id="clip1_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath></defs></svg>',1)]))])])):w("",!0)],64))}},kt={class:"max-w-5xl mx-auto p-8 bg-white shadow-lg rounded-lg"},Vt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ut=["value"],$t=["value"],Dt={class:"md:col-span-2 mt-6"},Lt=["onUpdate:modelValue"],At=["onUpdate:modelValue"],ht=["onUpdate:modelValue"],Ft=["onUpdate:modelValue"],Mt=["onUpdate:modelValue"],Ot=["value"],St={class:"md:col-span-2 text-right"},_t=["onClick"],Pt={class:"md:col-span-2 mt-6"},Et=["onUpdate:modelValue"],Ht=["onUpdate:modelValue"],Nt={class:"md:col-span-2 text-right"},jt=["onClick"],Zt={class:"md:col-span-2 mt-6 flex justify-center"},Gt={key:0,class:"fixed bottom-4 left-1/2 transform -translate-x-1/2 lg:-translate-x-[22%] z-50 w-[90%] sm:w-auto"},Bt={class:"w-full sm:max-w-md bg-yellow-300 rounded-lg shadow-md flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4 p-4",role:"alert"},Rt={__name:"NotOnDuty",props:{application:Object,house:Array,departments:Array},setup(b){const r=b,s=h({type:r.application.type,application_id:r.application.application_id,applicant_name:r.application.applicant_name,gender:r.application.gender,contact:r.application.contact,designation:r.application.designation,department:r.application.department_id,location:r.application.location,start_date:r.application.start_date,end_date:r.application.end_date,not_on_duty_details:r.application.not_on_duty_details.map(o=>({id:o.id,name:o.name,gender:o.gender,contact:o.contact,designation:o.designation,department:o.department_id,department_approval:null,existing_approval:o.department_approval})),family_members:r.application.family_members??[]}),a=A(!1),$=()=>{s.not_on_duty_details.push({name:"",gender:"",designation:"",department:"",contact:""})},D=o=>{s.not_on_duty_details.splice(o,1)},k=()=>{s.family_members.push({name:"",relation:""})},V=o=>{s.family_members.splice(o,1)},f=o=>{s.put(route("applications.not-on-duty.update",o),{onStart:()=>{},onSuccess:l=>{a.value=!0},onError:l=>{if(l)if(typeof l=="string")alert(l);else if(typeof l=="object"){const e=Object.values(l)[0];Array.isArray(e)?alert(e[0]):alert(e)}else alert("An unexpected error occurred.");a.value=!1},onFinish:()=>{}})};return(o,l)=>(u(),m(c,null,[t("div",kt,[l[36]||(l[36]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"Application Form",-1)),t("div",Vt,[t("div",null,[l[12]||(l[12]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Type",-1)),d(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>n(s).type=e),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(s).type]])]),t("div",null,[l[13]||(l[13]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Application ID",-1)),d(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>n(s).application_id=e),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(s).application_id]])]),t("div",null,[l[14]||(l[14]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Applicant Name",-1)),d(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>n(s).applicant_name=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).applicant_name]])]),t("div",null,[l[16]||(l[16]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>n(s).gender=e),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},l[15]||(l[15]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),512),[[y,n(s).gender]])]),t("div",null,[l[17]||(l[17]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>n(s).contact=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).contact]])]),t("div",null,[l[18]||(l[18]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>n(s).designation=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).designation]])]),t("div",null,[l[20]||(l[20]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Department",-1)),d(t("select",{"onUpdate:modelValue":l[6]||(l[6]=e=>n(s).department=e),id:"department",class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},[l[19]||(l[19]=t("option",{value:""},"Select Department",-1)),(u(!0),m(c,null,x(b.departments,e=>(u(),m("option",{key:e.id,value:e.id},C(e.name),9,Ut))),128))],512),[[y,n(s).department]])]),t("div",null,[l[22]||(l[22]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Location",-1)),d(t("select",{"onUpdate:modelValue":l[7]||(l[7]=e=>n(s).location=e),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},[l[21]||(l[21]=t("option",{value:""},"Select Location",-1)),(u(!0),m(c,null,x(b.house,e=>(u(),m("option",{key:e.id,value:e.id},C(e.name),9,$t))),128))],512),[[y,n(s).location]])]),t("div",null,[l[23]||(l[23]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Start Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":l[8]||(l[8]=e=>n(s).start_date=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).start_date]])]),t("div",null,[l[24]||(l[24]=t("label",{class:"block text-gray-700 font-medium mb-2"},"End Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":l[9]||(l[9]=e=>n(s).end_date=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).end_date]])]),t("div",Dt,[l[32]||(l[32]=t("h2",{class:"text-lg font-bold mb-2"},"Other Not On Duty Details",-1)),(u(!0),m(c,null,x(n(s).not_on_duty_details,(e,i)=>(u(),m("div",{key:i,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[l[25]||(l[25]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":g=>e.name=g,class:"w-full border p-3 rounded-md"},null,8,Lt),[[p,e.name]])]),t("div",null,[l[27]||(l[27]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":g=>e.gender=g,class:"w-full border p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},l[26]||(l[26]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),8,At),[[y,e.gender]])]),t("div",null,[l[28]||(l[28]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":g=>e.contact=g,class:"w-full border p-3 rounded-md"},null,8,ht),[[p,e.contact]])]),t("div",null,[l[29]||(l[29]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":g=>e.designation=g,class:"w-full border p-3 rounded-md"},null,8,Ft),[[p,e.designation]])]),t("div",null,[l[31]||(l[31]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Department",-1)),d(t("select",{"onUpdate:modelValue":g=>e.department=g,id:"department",class:"w-full border p-3 rounded-md"},[l[30]||(l[30]=t("option",{disabled:"",value:""},"Select Department",-1)),(u(!0),m(c,null,x(b.departments,g=>(u(),m("option",{key:g.id,value:g.id},C(g.name),9,Ot))),128))],8,Mt),[[y,e.department]])]),t("div",St,[t("button",{type:"button",onClick:g=>D(i),class:"text-red-500 hover:underline"},"Remove",8,_t)])]))),128)),t("button",{type:"button",onClick:$,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add On Duty")]),t("div",Pt,[l[35]||(l[35]=t("h2",{class:"text-lg font-bold mb-2"},"Family Members",-1)),(u(!0),m(c,null,x(n(s).family_members,(e,i)=>(u(),m("div",{key:i,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[l[33]||(l[33]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":g=>e.name=g,class:"w-full border p-3 rounded-md"},null,8,Et),[[p,e.name]])]),t("div",null,[l[34]||(l[34]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Relation",-1)),d(t("input",{"onUpdate:modelValue":g=>e.relation=g,class:"w-full border p-3 rounded-md"},null,8,Ht),[[p,e.relation]])]),t("div",Nt,[t("button",{type:"button",onClick:g=>V(i),class:"text-red-500 hover:underline"},"Remove",8,jt)])]))),128)),t("button",{type:"button",onClick:k,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add Family Member")]),t("div",Zt,[t("button",{onClick:l[10]||(l[10]=e=>f(b.application)),type:"submit",class:"w-1/2 text-center bg-black text-white px-6 py-3 rounded-md hover:bg-blue-700 transition"}," Update Application ")])])]),a.value?(u(),m("div",Gt,[t("div",Bt,[l[38]||(l[38]=U('<div class="flex-shrink-0 mt-1"><svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_708_1780" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21"><rect y="0.5" width="20" height="20" fill="#D9D9D9"></rect></mask><g mask="url(#mask0_708_1780)"><path d="M4.41675 17.5837C4.00008 17.5837 3.64591 17.4378 3.35425 17.1462C3.06258 16.8545 2.91675 16.5003 2.91675 16.0837V4.91699C2.91675 4.50033 3.06258 4.14616 3.35425 3.85449C3.64591 3.56283 4.00008 3.41699 4.41675 3.41699H15.5834C16.0001 3.41699 16.3542 3.56283 16.6459 3.85449C16.9376 4.14616 17.0834 4.50033 17.0834 4.91699V16.0837C17.0834 16.5003 16.9376 16.8545 16.6459 17.1462C16.3542 17.4378 16.0001 17.5837 15.5834 17.5837H4.41675ZM4.41675 16.3337H15.5834C15.639 16.3337 15.6945 16.3059 15.7501 16.2503C15.8056 16.1948 15.8334 16.1392 15.8334 16.0837V4.91699C15.8334 4.86144 15.8056 4.80588 15.7501 4.75033C15.6945 4.69477 15.639 4.66699 15.5834 4.66699H4.41675C4.36119 4.66699 4.30564 4.69477 4.25008 4.75033C4.19453 4.80588 4.16675 4.86144 4.16675 4.91699V16.0837C4.16675 16.1392 4.19453 16.1948 4.25008 16.2503C4.30564 16.3059 4.36119 16.3337 4.41675 16.3337ZM5.62508 14.4587H14.4376L11.7084 10.8128L9.35425 13.8545L7.68758 11.7087L5.62508 14.4587Z" fill="#34A853"></path></g></svg></div><div class="flex-1"><p class="font-extrabold text-yellow-900 text-lg leading-6">Success</p><p class="text-yellow-900 text-base leading-6 mt-1"> Application updated successfully! </p></div>',2)),t("button",{onClick:l[11]||(l[11]=e=>a.value=!1),"aria-label":"Close notification",class:"text-green-900 hover:text-green-800 focus:outline-none focus:ring-2 focus:ring-green-600 rounded mt-2 sm:mt-1 sm:ml-4"},l[37]||(l[37]=[U('<svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_708_1788)"><rect width="14" height="14" transform="translate(4 3.5)" fill="white" fill-opacity="0.01"></rect><g clip-path="url(#clip1_708_1788)"><path d="M4.25594 3.75541C4.42003 3.59137 4.64255 3.49922 4.87457 3.49922C5.10659 3.49922 5.32911 3.59137 5.49319 3.75541L10.9996 9.26178L16.5059 3.75541C16.5867 3.67184 16.6832 3.60518 16.79 3.55932C16.8967 3.51346 17.0115 3.48932 17.1277 3.48831C17.2439 3.4873 17.3591 3.50944 17.4667 3.55344C17.5742 3.59744 17.6719 3.66241 17.754 3.74456C17.8362 3.82672 17.9012 3.92441 17.9452 4.03195C17.9892 4.13948 18.0113 4.2547 18.0103 4.37088C18.0093 4.48707 17.9851 4.60188 17.9393 4.70864C17.8934 4.81539 17.8268 4.91194 17.7432 4.99266L12.2368 10.499L17.7432 16.0054C17.9026 16.1704 17.9908 16.3915 17.9888 16.6209C17.9868 16.8503 17.8948 17.0698 17.7325 17.232C17.5703 17.3942 17.3508 17.4863 17.1214 17.4882C16.892 17.4902 16.671 17.402 16.5059 17.2427L10.9996 11.7363L5.49319 17.2427C5.32817 17.402 5.10714 17.4902 4.87772 17.4882C4.6483 17.4863 4.42883 17.3942 4.2666 17.232C4.10437 17.0698 4.01235 16.8503 4.01035 16.6209C4.00836 16.3915 4.09656 16.1704 4.25594 16.0054L9.76232 10.499L4.25594 4.99266C4.09191 4.82857 3.99976 4.60605 3.99976 4.37403C3.99976 4.14201 4.09191 3.9195 4.25594 3.75541Z" fill="#1C1D1F"></path></g></g><defs><clipPath id="clip0_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath><clipPath id="clip1_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath></defs></svg>',1)]))])])):w("",!0)],64))}},Tt={class:"max-w-5xl mx-auto p-8 bg-white shadow-lg rounded-lg"},It={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zt=["value"],Yt={class:"md:col-span-2 mt-6"},qt=["onUpdate:modelValue"],Jt=["onUpdate:modelValue"],Kt=["onUpdate:modelValue"],Qt={class:"md:col-span-2 text-right"},Wt=["onClick"],Xt={class:"md:col-span-2 mt-6"},tl=["onUpdate:modelValue"],ll=["onUpdate:modelValue"],el={class:"md:col-span-2 text-right"},nl=["onClick"],ol={class:"md:col-span-2 mt-6 flex justify-center"},al={key:0,class:"fixed bottom-4 left-1/2 transform -translate-x-1/2 lg:-translate-x-[22%] z-50 w-[90%] sm:w-auto"},il={class:"w-full sm:max-w-md bg-yellow-300 rounded-lg shadow-md flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4 p-4",role:"alert"},dl={__name:"NonOfficial",props:{application:Object,house:Array},setup(b){const r=b,s=h({type:r.application.type,application_id:r.application.application_id,applicant_name:r.application.applicant_name,gender:r.application.gender||"",contact:r.application.contact||"",location:r.application.location||"",start_date:r.application.start_date||"",end_date:r.application.end_date||"",non_official_details:r.application.non_official_details??[],family_members:r.application.family_members??[]}),a=A(!1),$=()=>{s.non_official_details.push({name:"",gender:"",contact:""})},D=o=>{s.non_official_details.splice(o,1)},k=()=>{s.family_members.push({name:"",relation:""})},V=o=>{s.family_members.splice(o,1)},f=o=>{s.put(route("applications.not-official.update",o),{onStart:()=>{},onSuccess:l=>{a.value=!0},onError:l=>{if(l)if(typeof l=="string")alert(l);else if(typeof l=="object"){const e=Object.values(l)[0];Array.isArray(e)?alert(e[0]):alert(e)}else alert("An unexpected error occurred.");a.value=!1},onFinish:()=>{}})};return(o,l)=>(u(),m(c,null,[t("div",Tt,[l[28]||(l[28]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"Application Form",-1)),t("div",It,[t("div",null,[l[10]||(l[10]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Type",-1)),d(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>n(s).type=e),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(s).type]])]),t("div",null,[l[11]||(l[11]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Application ID",-1)),d(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>n(s).application_id=e),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(s).application_id]])]),t("div",null,[l[12]||(l[12]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Applicant Name",-1)),d(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>n(s).applicant_name=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).applicant_name]])]),t("div",null,[l[14]||(l[14]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>n(s).gender=e),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},l[13]||(l[13]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),512),[[y,n(s).gender]])]),t("div",null,[l[15]||(l[15]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>n(s).contact=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).contact]])]),t("div",null,[l[17]||(l[17]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Location",-1)),d(t("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>n(s).location=e),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},[l[16]||(l[16]=t("option",{value:""},"Select Location",-1)),(u(!0),m(c,null,x(b.house,e=>(u(),m("option",{key:e.id,value:e.id},C(e.name),9,zt))),128))],512),[[y,n(s).location]])]),t("div",null,[l[18]||(l[18]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Start Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":l[6]||(l[6]=e=>n(s).start_date=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).start_date]])]),t("div",null,[l[19]||(l[19]=t("label",{class:"block text-gray-700 font-medium mb-2"},"End Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":l[7]||(l[7]=e=>n(s).end_date=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(s).end_date]])]),t("div",Yt,[l[24]||(l[24]=t("h2",{class:"text-lg font-bold mb-2"},"Other Private Members",-1)),(u(!0),m(c,null,x(n(s).non_official_details,(e,i)=>(u(),m("div",{key:i,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[l[20]||(l[20]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":g=>e.name=g,class:"w-full border p-3 rounded-md"},null,8,qt),[[p,e.name]])]),t("div",null,[l[22]||(l[22]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":g=>e.gender=g,class:"w-full border p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},l[21]||(l[21]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),8,Jt),[[y,e.gender]])]),t("div",null,[l[23]||(l[23]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":g=>e.contact=g,class:"w-full border p-3 rounded-md"},null,8,Kt),[[p,e.contact]])]),t("div",Qt,[t("button",{type:"button",onClick:g=>D(i),class:"text-red-500 hover:underline"},"Remove",8,Wt)])]))),128)),t("button",{type:"button",onClick:$,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add Private")]),t("div",Xt,[l[27]||(l[27]=t("h2",{class:"text-lg font-bold mb-2"},"Family Members",-1)),(u(!0),m(c,null,x(n(s).family_members,(e,i)=>(u(),m("div",{key:i,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[l[25]||(l[25]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":g=>e.name=g,class:"w-full border p-3 rounded-md"},null,8,tl),[[p,e.name]])]),t("div",null,[l[26]||(l[26]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Relation",-1)),d(t("input",{"onUpdate:modelValue":g=>e.relation=g,class:"w-full border p-3 rounded-md"},null,8,ll),[[p,e.relation]])]),t("div",el,[t("button",{type:"button",onClick:g=>V(i),class:"text-red-500 hover:underline"},"Remove",8,nl)])]))),128)),t("button",{type:"button",onClick:k,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add Family Member")]),t("div",ol,[t("button",{onClick:l[8]||(l[8]=e=>f(b.application)),type:"submit",class:"w-1/2 text-center bg-black text-white px-6 py-3 rounded-md hover:bg-blue-700 transition"}," Update Application ")])])]),a.value?(u(),m("div",al,[t("div",il,[l[30]||(l[30]=U('<div class="flex-shrink-0 mt-1"><svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_708_1780" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21"><rect y="0.5" width="20" height="20" fill="#D9D9D9"></rect></mask><g mask="url(#mask0_708_1780)"><path d="M4.41675 17.5837C4.00008 17.5837 3.64591 17.4378 3.35425 17.1462C3.06258 16.8545 2.91675 16.5003 2.91675 16.0837V4.91699C2.91675 4.50033 3.06258 4.14616 3.35425 3.85449C3.64591 3.56283 4.00008 3.41699 4.41675 3.41699H15.5834C16.0001 3.41699 16.3542 3.56283 16.6459 3.85449C16.9376 4.14616 17.0834 4.50033 17.0834 4.91699V16.0837C17.0834 16.5003 16.9376 16.8545 16.6459 17.1462C16.3542 17.4378 16.0001 17.5837 15.5834 17.5837H4.41675ZM4.41675 16.3337H15.5834C15.639 16.3337 15.6945 16.3059 15.7501 16.2503C15.8056 16.1948 15.8334 16.1392 15.8334 16.0837V4.91699C15.8334 4.86144 15.8056 4.80588 15.7501 4.75033C15.6945 4.69477 15.639 4.66699 15.5834 4.66699H4.41675C4.36119 4.66699 4.30564 4.69477 4.25008 4.75033C4.19453 4.80588 4.16675 4.86144 4.16675 4.91699V16.0837C4.16675 16.1392 4.19453 16.1948 4.25008 16.2503C4.30564 16.3059 4.36119 16.3337 4.41675 16.3337ZM5.62508 14.4587H14.4376L11.7084 10.8128L9.35425 13.8545L7.68758 11.7087L5.62508 14.4587Z" fill="#34A853"></path></g></svg></div><div class="flex-1"><p class="font-extrabold text-yellow-900 text-lg leading-6">Success</p><p class="text-yellow-900 text-base leading-6 mt-1"> Application updated successfully! </p></div>',2)),t("button",{onClick:l[9]||(l[9]=e=>a.value=!1),"aria-label":"Close notification",class:"text-green-900 hover:text-green-800 focus:outline-none focus:ring-2 focus:ring-green-600 rounded mt-2 sm:mt-1 sm:ml-4"},l[29]||(l[29]=[U('<svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_708_1788)"><rect width="14" height="14" transform="translate(4 3.5)" fill="white" fill-opacity="0.01"></rect><g clip-path="url(#clip1_708_1788)"><path d="M4.25594 3.75541C4.42003 3.59137 4.64255 3.49922 4.87457 3.49922C5.10659 3.49922 5.32911 3.59137 5.49319 3.75541L10.9996 9.26178L16.5059 3.75541C16.5867 3.67184 16.6832 3.60518 16.79 3.55932C16.8967 3.51346 17.0115 3.48932 17.1277 3.48831C17.2439 3.4873 17.3591 3.50944 17.4667 3.55344C17.5742 3.59744 17.6719 3.66241 17.754 3.74456C17.8362 3.82672 17.9012 3.92441 17.9452 4.03195C17.9892 4.13948 18.0113 4.2547 18.0103 4.37088C18.0093 4.48707 17.9851 4.60188 17.9393 4.70864C17.8934 4.81539 17.8268 4.91194 17.7432 4.99266L12.2368 10.499L17.7432 16.0054C17.9026 16.1704 17.9908 16.3915 17.9888 16.6209C17.9868 16.8503 17.8948 17.0698 17.7325 17.232C17.5703 17.3942 17.3508 17.4863 17.1214 17.4882C16.892 17.4902 16.671 17.402 16.5059 17.2427L10.9996 11.7363L5.49319 17.2427C5.32817 17.402 5.10714 17.4902 4.87772 17.4882C4.6483 17.4863 4.42883 17.3942 4.2666 17.232C4.10437 17.0698 4.01235 16.8503 4.01035 16.6209C4.00836 16.3915 4.09656 16.1704 4.25594 16.0054L9.76232 10.499L4.25594 4.99266C4.09191 4.82857 3.99976 4.60605 3.99976 4.37403C3.99976 4.14201 4.09191 3.9195 4.25594 3.75541Z" fill="#1C1D1F"></path></g></g><defs><clipPath id="clip0_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath><clipPath id="clip1_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath></defs></svg>',1)]))])])):w("",!0)],64))}},sl={class:"max-w-5xl mx-auto p-8 bg-white shadow-lg rounded-lg"},rl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ul=["value"],pl={class:"md:col-span-2 mt-6 flex justify-center"},ml={key:0,class:"fixed bottom-4 left-1/2 transform -translate-x-1/2 lg:-translate-x-[22%] z-50 w-[90%] sm:w-auto"},bl={class:"w-full sm:max-w-md bg-yellow-300 rounded-lg shadow-md flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4 p-4",role:"alert"},gl={__name:"StudyTour",props:{application:Object,house:Object},setup(b){var k,V,f;const r=A(!1),s=b,a=h({type:s.application.type,application_id:s.application.application_id,applicant_name:s.application.applicant_name,gender:s.application.gender,designation:s.application.designation,contact:s.application.contact,location:s.application.location,start_date:s.application.start_date,end_date:s.application.end_date,study_tour_details:{institution:((k=s.application.study_tour_details)==null?void 0:k.institution)||"",male:((V=s.application.study_tour_details)==null?void 0:V.male)||"",female:((f=s.application.study_tour_details)==null?void 0:f.female)||"",institution_approval:null}}),$=o=>{a.post(route("applications.study-tour.update",o),{onStart:()=>{},onSuccess:l=>{r.value=!0},onError:l=>{if(l)if(typeof l=="string")alert(l);else if(typeof l=="object"){const e=Object.values(l)[0];Array.isArray(e)?alert(e[0]):alert(e)}else alert("An unexpected error occurred.");r.value=!1},onFinish:()=>{}})},D=o=>{let l=document.createElement("a");l.target="_blank",l.href=`/storage/${o}`,l.click()};return(o,l)=>(u(),m(c,null,[t("div",sl,[l[32]||(l[32]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"Application Form",-1)),t("div",rl,[t("div",null,[l[16]||(l[16]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Type",-1)),d(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>n(a).type=e),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(a).type]])]),t("div",null,[l[17]||(l[17]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Application ID",-1)),d(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>n(a).application_id=e),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(a).application_id]])]),t("div",null,[l[18]||(l[18]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Applicant Name",-1)),d(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>n(a).applicant_name=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).applicant_name]])]),t("div",null,[l[20]||(l[20]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>n(a).gender=e),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},l[19]||(l[19]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),512),[[y,n(a).gender]])]),t("div",null,[l[21]||(l[21]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>n(a).contact=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).contact]])]),t("div",null,[l[22]||(l[22]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>n(a).designation=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).designation]])]),t("div",null,[l[24]||(l[24]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Location",-1)),d(t("select",{"onUpdate:modelValue":l[6]||(l[6]=e=>n(a).location=e),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},[l[23]||(l[23]=t("option",{value:""},"Select Location",-1)),(u(!0),m(c,null,x(b.house,e=>(u(),m("option",{key:e.id,value:e.id},C(e.name),9,ul))),128))],512),[[y,n(a).location]])]),t("div",null,[l[25]||(l[25]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Start Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":l[7]||(l[7]=e=>n(a).start_date=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).start_date]])]),t("div",null,[l[26]||(l[26]=t("label",{class:"block text-gray-700 font-medium mb-2"},"End Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":l[8]||(l[8]=e=>n(a).end_date=e),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).end_date]])]),t("div",null,[l[27]||(l[27]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Institution",-1)),d(t("input",{type:"text","onUpdate:modelValue":l[9]||(l[9]=e=>n(a).study_tour_details.institution=e),placeholder:"Institution",class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).study_tour_details.institution]])]),t("div",null,[l[28]||(l[28]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Male Count",-1)),d(t("input",{"onUpdate:modelValue":l[10]||(l[10]=e=>n(a).study_tour_details.male=e),placeholder:"Male Count",type:"number",class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).study_tour_details.male]])]),t("div",null,[l[29]||(l[29]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Female Count",-1)),d(t("input",{"onUpdate:modelValue":l[11]||(l[11]=e=>n(a).study_tour_details.female=e),placeholder:"Female Count",type:"number",class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).study_tour_details.female]])]),t("div",null,[l[31]||(l[31]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Institute approval",-1)),t("input",{type:"file",onChange:l[12]||(l[12]=e=>n(a).study_tour_details.institution_approval=e.target.files[0]),class:"w-full border border-gray-300 p-3 rounded-md"},null,32),s.application.study_tour_details.institution_approval?(u(),m("div",{key:0,onClick:l[13]||(l[13]=e=>D(s.application.study_tour_details.institution_approval)),class:"mt-2 text-blue-600 cursor-pointer"},l[30]||(l[30]=[t("p",{class:"underline"},"View Existing PDF",-1)]))):w("",!0)]),t("div",pl,[t("button",{onClick:l[14]||(l[14]=e=>$(b.application)),type:"submit",class:"w-1/2 text-center bg-black text-white px-6 py-3 rounded-md hover:bg-blue-700 transition"}," Update Application ")])])]),r.value?(u(),m("div",ml,[t("div",bl,[l[34]||(l[34]=U('<div class="flex-shrink-0 mt-1"><svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_708_1780" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21"><rect y="0.5" width="20" height="20" fill="#D9D9D9"></rect></mask><g mask="url(#mask0_708_1780)"><path d="M4.41675 17.5837C4.00008 17.5837 3.64591 17.4378 3.35425 17.1462C3.06258 16.8545 2.91675 16.5003 2.91675 16.0837V4.91699C2.91675 4.50033 3.06258 4.14616 3.35425 3.85449C3.64591 3.56283 4.00008 3.41699 4.41675 3.41699H15.5834C16.0001 3.41699 16.3542 3.56283 16.6459 3.85449C16.9376 4.14616 17.0834 4.50033 17.0834 4.91699V16.0837C17.0834 16.5003 16.9376 16.8545 16.6459 17.1462C16.3542 17.4378 16.0001 17.5837 15.5834 17.5837H4.41675ZM4.41675 16.3337H15.5834C15.639 16.3337 15.6945 16.3059 15.7501 16.2503C15.8056 16.1948 15.8334 16.1392 15.8334 16.0837V4.91699C15.8334 4.86144 15.8056 4.80588 15.7501 4.75033C15.6945 4.69477 15.639 4.66699 15.5834 4.66699H4.41675C4.36119 4.66699 4.30564 4.69477 4.25008 4.75033C4.19453 4.80588 4.16675 4.86144 4.16675 4.91699V16.0837C4.16675 16.1392 4.19453 16.1948 4.25008 16.2503C4.30564 16.3059 4.36119 16.3337 4.41675 16.3337ZM5.62508 14.4587H14.4376L11.7084 10.8128L9.35425 13.8545L7.68758 11.7087L5.62508 14.4587Z" fill="#34A853"></path></g></svg></div><div class="flex-1"><p class="font-extrabold text-yellow-900 text-lg leading-6">Success</p><p class="text-yellow-900 text-base leading-6 mt-1"> Application updated successfully! </p></div>',2)),t("button",{onClick:l[15]||(l[15]=e=>r.value=!1),"aria-label":"Close notification",class:"text-green-900 hover:text-green-800 focus:outline-none focus:ring-2 focus:ring-green-600 rounded mt-2 sm:mt-1 sm:ml-4"},l[33]||(l[33]=[U('<svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_708_1788)"><rect width="14" height="14" transform="translate(4 3.5)" fill="white" fill-opacity="0.01"></rect><g clip-path="url(#clip1_708_1788)"><path d="M4.25594 3.75541C4.42003 3.59137 4.64255 3.49922 4.87457 3.49922C5.10659 3.49922 5.32911 3.59137 5.49319 3.75541L10.9996 9.26178L16.5059 3.75541C16.5867 3.67184 16.6832 3.60518 16.79 3.55932C16.8967 3.51346 17.0115 3.48932 17.1277 3.48831C17.2439 3.4873 17.3591 3.50944 17.4667 3.55344C17.5742 3.59744 17.6719 3.66241 17.754 3.74456C17.8362 3.82672 17.9012 3.92441 17.9452 4.03195C17.9892 4.13948 18.0113 4.2547 18.0103 4.37088C18.0093 4.48707 17.9851 4.60188 17.9393 4.70864C17.8934 4.81539 17.8268 4.91194 17.7432 4.99266L12.2368 10.499L17.7432 16.0054C17.9026 16.1704 17.9908 16.3915 17.9888 16.6209C17.9868 16.8503 17.8948 17.0698 17.7325 17.232C17.5703 17.3942 17.3508 17.4863 17.1214 17.4882C16.892 17.4902 16.671 17.402 16.5059 17.2427L10.9996 11.7363L5.49319 17.2427C5.32817 17.402 5.10714 17.4902 4.87772 17.4882C4.6483 17.4863 4.42883 17.3942 4.2666 17.232C4.10437 17.0698 4.01235 16.8503 4.01035 16.6209C4.00836 16.3915 4.09656 16.1704 4.25594 16.0054L9.76232 10.499L4.25594 4.99266C4.09191 4.82857 3.99976 4.60605 3.99976 4.37403C3.99976 4.14201 4.09191 3.9195 4.25594 3.75541Z" fill="#1C1D1F"></path></g></g><defs><clipPath id="clip0_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath><clipPath id="clip1_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath></defs></svg>',1)]))])])):w("",!0)],64))}},fl={class:"max-w-5xl mx-auto p-8 bg-white shadow-lg rounded-lg"},cl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},yl={key:0},vl={key:1},xl=["value"],wl=["value"],Cl={class:"md:col-span-2 mt-6"},kl=["onUpdate:modelValue"],Vl=["onUpdate:modelValue"],Ul=["onUpdate:modelValue"],$l=["onUpdate:modelValue"],Dl=["onUpdate:modelValue"],Ll={key:0},Al=["onUpdate:modelValue"],hl={key:1},Fl=["onUpdate:modelValue"],Ml=["value"],Ol=["onChange"],Sl=["onClick"],_l={class:"md:col-span-2 text-right"},Pl=["onClick"],El={class:"md:col-span-2 mt-6 flex justify-center"},Hl={key:0,class:"fixed bottom-4 left-1/2 transform -translate-x-1/2 lg:-translate-x-[22%] z-50 w-[90%] sm:w-auto"},Nl={class:"w-full sm:max-w-md bg-yellow-300 rounded-lg shadow-md flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4 p-4",role:"alert"},jl={__name:"Medical",props:{application:Object,house:Array,departments:Array},setup(b){const r=b,s=A(!1),a=h({type:r.application.type,application_id:r.application.application_id,applicant_name:r.application.applicant_name,gender:r.application.gender,contact:r.application.contact,designation:r.application.designation,department:r.application.department_id,location:r.application.location,start_date:r.application.start_date,end_date:r.application.end_date,medical_details:r.application.medical_details.map(f=>({id:f.id,name:f.name||"",gender:f.gender||"",contact:f.contact||"",category:f.category||"",service:f.service||"",designation:f.designation||"",department:f.department_id||"",file_path:null,existing_file:f.file_path}))}),$=()=>{a.medical_details.push({id:null,name:"",gender:"",contact:"",category:"",service:"",designation:"",department:"",file_path:null,existing_file:null})},D=f=>{f!==0&&a.medical_details.splice(f,1)},k=()=>{a.post(route("applications.medical.update",r.application.id),{preserveScroll:!0,onStart:()=>{s.value=!1},onSuccess:()=>{s.value=!0},onError:f=>{if(f)if(typeof f=="string")alert(f);else if(typeof f=="object"){const o=Object.values(f)[0];Array.isArray(o)?alert(o[0]):alert(o)}else alert("An unexpected error occurred.");s.value=!1}})},V=f=>{if(!f)return;let o="";if(typeof f=="string")o=`/storage/${f}`;else if(f instanceof File){alert("File not uploaded yet.");return}window.open(o,"_blank")};return(f,o)=>(u(),m(c,null,[t("div",fl,[o[39]||(o[39]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"Application Form",-1)),t("div",cl,[t("div",null,[o[12]||(o[12]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Type",-1)),d(t("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>n(a).type=l),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(a).type]])]),t("div",null,[o[13]||(o[13]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Application ID",-1)),d(t("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>n(a).application_id=l),disabled:"",class:"w-full border border-gray-300 p-3 rounded-md bg-gray-100"},null,512),[[p,n(a).application_id]])]),t("div",null,[o[14]||(o[14]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Applicant Name",-1)),d(t("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>n(a).applicant_name=l),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).applicant_name]])]),t("div",null,[o[16]||(o[16]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":o[3]||(o[3]=l=>n(a).gender=l),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},o[15]||(o[15]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),512),[[y,n(a).gender]])]),t("div",null,[o[17]||(o[17]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":o[4]||(o[4]=l=>n(a).contact=l),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).contact]])]),n(a).medical_details[0].service==="Govt"?(u(),m("div",yl,[o[18]||(o[18]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":o[5]||(o[5]=l=>n(a).designation=l),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).designation]])])):w("",!0),n(a).medical_details[0].service==="Govt"?(u(),m("div",vl,[o[20]||(o[20]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Department",-1)),d(t("select",{"onUpdate:modelValue":o[6]||(o[6]=l=>n(a).department=l),id:"department",class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},[o[19]||(o[19]=t("option",{disabled:"",value:""},"Select Department",-1)),(u(!0),m(c,null,x(b.departments,l=>(u(),m("option",{key:l.id,value:l.id},C(l.name),9,xl))),128))],512),[[y,n(a).department]])])):w("",!0),t("div",null,[o[22]||(o[22]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Location",-1)),d(t("select",{"onUpdate:modelValue":o[7]||(o[7]=l=>n(a).location=l),class:"w-full border border-gray-300 p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},[o[21]||(o[21]=t("option",{value:""},"Select Location",-1)),(u(!0),m(c,null,x(b.house,l=>(u(),m("option",{key:l.id,value:l.id},C(l.name),9,wl))),128))],512),[[y,n(a).location]])]),t("div",null,[o[23]||(o[23]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Start Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":o[8]||(o[8]=l=>n(a).start_date=l),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).start_date]])]),t("div",null,[o[24]||(o[24]=t("label",{class:"block text-gray-700 font-medium mb-2"},"End Date",-1)),d(t("input",{type:"date","onUpdate:modelValue":o[9]||(o[9]=l=>n(a).end_date=l),class:"w-full border border-gray-300 p-3 rounded-md focus:ring-2 focus:ring-blue-500"},null,512),[[p,n(a).end_date]])]),t("div",Cl,[o[38]||(o[38]=t("h2",{class:"text-lg font-bold mb-2"},"Medical Details",-1)),(u(!0),m(c,null,x(n(a).medical_details,(l,e)=>(u(),m("div",{key:e,class:"border p-4 mb-4 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4"},[t("div",null,[o[25]||(o[25]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Name",-1)),d(t("input",{"onUpdate:modelValue":i=>l.name=i,class:"w-full border p-3 rounded-md"},null,8,kl),[[p,l.name]])]),t("div",null,[o[27]||(o[27]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Gender",-1)),d(t("select",{"onUpdate:modelValue":i=>l.gender=i,class:"w-full border p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},o[26]||(o[26]=[t("option",null,"Male",-1),t("option",null,"Female",-1),t("option",null,"Other",-1)]),8,Vl),[[y,l.gender]])]),t("div",null,[o[28]||(o[28]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Contact",-1)),d(t("input",{"onUpdate:modelValue":i=>l.contact=i,class:"w-full border p-3 rounded-md"},null,8,Ul),[[p,l.contact]])]),t("div",null,[o[30]||(o[30]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Category",-1)),d(t("select",{"onUpdate:modelValue":i=>l.category=i,class:"w-full border p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},o[29]||(o[29]=[t("option",null,"Patient",-1),t("option",null,"Attendant",-1)]),8,$l),[[y,l.category]])]),t("div",null,[o[32]||(o[32]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Service",-1)),d(t("select",{"onUpdate:modelValue":i=>l.service=i,class:"w-full border p-3 rounded-md bg-white focus:ring-2 focus:ring-blue-500"},o[31]||(o[31]=[t("option",null,"Govt",-1),t("option",null,"Non-Govt",-1)]),8,Dl),[[y,l.service]])]),l.service==="Govt"?(u(),m("div",Ll,[o[33]||(o[33]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Designation",-1)),d(t("input",{"onUpdate:modelValue":i=>l.designation=i,class:"w-full border p-3 rounded-md"},null,8,Al),[[p,l.designation]])])):w("",!0),l.service==="Govt"?(u(),m("div",hl,[o[35]||(o[35]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Department",-1)),d(t("select",{"onUpdate:modelValue":i=>l.department=i,id:"department",class:"w-full border p-3 rounded-md"},[o[34]||(o[34]=t("option",{disabled:"",value:""},"Select Department",-1)),(u(!0),m(c,null,x(b.departments,i=>(u(),m("option",{key:i.id,value:i.id},C(i.name),9,Ml))),128))],8,Fl),[[y,l.department]])])):w("",!0),t("div",null,[o[37]||(o[37]=t("label",{class:"block text-gray-700 font-medium mb-2"},"Approval PDF",-1)),t("input",{type:"file",accept:"application/pdf",onChange:i=>{l.file_path=i.target.files[0],l.existing_file=null},class:"w-full border p-3 rounded-md"},null,40,Ol),l.existing_file?(u(),m("div",{key:0,onClick:i=>V(l.existing_file),class:"mt-2 text-blue-600 cursor-pointer"},o[36]||(o[36]=[t("p",{class:"underline"},"View Existing PDF",-1)]),8,Sl)):w("",!0)]),t("div",_l,[t("button",{type:"button",onClick:i=>D(e),class:"text-red-500 hover:underline"},"Remove",8,Pl)])]))),128)),t("button",{type:"button",onClick:$,class:"bg-blue-200 text-blue-800 px-3 py-2 rounded-md hover:bg-blue-300 transition"},"+ Add Attendant/Patient")]),t("div",El,[t("button",{onClick:o[10]||(o[10]=l=>k()),type:"submit",class:"w-1/2 text-center bg-black text-white px-6 py-3 rounded-md hover:bg-blue-700 transition"}," Update Application ")])])]),s.value?(u(),m("div",Hl,[t("div",Nl,[o[41]||(o[41]=U('<div class="flex-shrink-0 mt-1"><svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_708_1780" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="21"><rect y="0.5" width="20" height="20" fill="#D9D9D9"></rect></mask><g mask="url(#mask0_708_1780)"><path d="M4.41675 17.5837C4.00008 17.5837 3.64591 17.4378 3.35425 17.1462C3.06258 16.8545 2.91675 16.5003 2.91675 16.0837V4.91699C2.91675 4.50033 3.06258 4.14616 3.35425 3.85449C3.64591 3.56283 4.00008 3.41699 4.41675 3.41699H15.5834C16.0001 3.41699 16.3542 3.56283 16.6459 3.85449C16.9376 4.14616 17.0834 4.50033 17.0834 4.91699V16.0837C17.0834 16.5003 16.9376 16.8545 16.6459 17.1462C16.3542 17.4378 16.0001 17.5837 15.5834 17.5837H4.41675ZM4.41675 16.3337H15.5834C15.639 16.3337 15.6945 16.3059 15.7501 16.2503C15.8056 16.1948 15.8334 16.1392 15.8334 16.0837V4.91699C15.8334 4.86144 15.8056 4.80588 15.7501 4.75033C15.6945 4.69477 15.639 4.66699 15.5834 4.66699H4.41675C4.36119 4.66699 4.30564 4.69477 4.25008 4.75033C4.19453 4.80588 4.16675 4.86144 4.16675 4.91699V16.0837C4.16675 16.1392 4.19453 16.1948 4.25008 16.2503C4.30564 16.3059 4.36119 16.3337 4.41675 16.3337ZM5.62508 14.4587H14.4376L11.7084 10.8128L9.35425 13.8545L7.68758 11.7087L5.62508 14.4587Z" fill="#34A853"></path></g></svg></div><div class="flex-1"><p class="font-extrabold text-yellow-900 text-lg leading-6">Success</p><p class="text-yellow-900 text-base leading-6 mt-1"> Application updated successfully! </p></div>',2)),t("button",{onClick:o[11]||(o[11]=l=>s.value=!1),"aria-label":"Close notification",class:"text-green-900 hover:text-green-800 focus:outline-none focus:ring-2 focus:ring-green-600 rounded mt-2 sm:mt-1 sm:ml-4"},o[40]||(o[40]=[U('<svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_708_1788)"><rect width="14" height="14" transform="translate(4 3.5)" fill="white" fill-opacity="0.01"></rect><g clip-path="url(#clip1_708_1788)"><path d="M4.25594 3.75541C4.42003 3.59137 4.64255 3.49922 4.87457 3.49922C5.10659 3.49922 5.32911 3.59137 5.49319 3.75541L10.9996 9.26178L16.5059 3.75541C16.5867 3.67184 16.6832 3.60518 16.79 3.55932C16.8967 3.51346 17.0115 3.48932 17.1277 3.48831C17.2439 3.4873 17.3591 3.50944 17.4667 3.55344C17.5742 3.59744 17.6719 3.66241 17.754 3.74456C17.8362 3.82672 17.9012 3.92441 17.9452 4.03195C17.9892 4.13948 18.0113 4.2547 18.0103 4.37088C18.0093 4.48707 17.9851 4.60188 17.9393 4.70864C17.8934 4.81539 17.8268 4.91194 17.7432 4.99266L12.2368 10.499L17.7432 16.0054C17.9026 16.1704 17.9908 16.3915 17.9888 16.6209C17.9868 16.8503 17.8948 17.0698 17.7325 17.232C17.5703 17.3942 17.3508 17.4863 17.1214 17.4882C16.892 17.4902 16.671 17.402 16.5059 17.2427L10.9996 11.7363L5.49319 17.2427C5.32817 17.402 5.10714 17.4902 4.87772 17.4882C4.6483 17.4863 4.42883 17.3942 4.2666 17.232C4.10437 17.0698 4.01235 16.8503 4.01035 16.6209C4.00836 16.3915 4.09656 16.1704 4.25594 16.0054L9.76232 10.499L4.25594 4.99266C4.09191 4.82857 3.99976 4.60605 3.99976 4.37403C3.99976 4.14201 4.09191 3.9195 4.25594 3.75541Z" fill="#1C1D1F"></path></g></g><defs><clipPath id="clip0_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath><clipPath id="clip1_708_1788"><rect width="14" height="14" fill="white" transform="translate(4 3.5)"></rect></clipPath></defs></svg>',1)]))])])):w("",!0)],64))}},Zl={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl"},Gl={class:"text-2xl font-semibold mb-6"},Tl=Object.assign({layout:F},{__name:"Edit",props:["application","house","departments"],setup(b){return(r,s)=>(u(),m(c,null,[M(n(O),{title:"Edit Application"}),t("div",Zl,[t("h2",Gl,"Edit Application :: "+C(b.application.type),1),b.application.type==="ON DUTY"?(u(),L(Ct,{key:0,application:b.application,house:b.house,departments:b.departments},null,8,["application","house","departments"])):w("",!0),b.application.type==="FLAM"?(u(),L(Q,{key:1,application:b.application,house:b.house},null,8,["application","house"])):w("",!0),b.application.type==="NOT ON DUTY"?(u(),L(Rt,{key:2,application:b.application,house:b.house,departments:b.departments},null,8,["application","house","departments"])):w("",!0),b.application.type==="PRIVATE"?(u(),L(dl,{key:3,application:b.application,house:b.house},null,8,["application","house"])):w("",!0),b.application.type==="STUDY TOUR"?(u(),L(gl,{key:4,application:b.application,house:b.house},null,8,["application","house"])):w("",!0),b.application.type==="MEDICAL"?(u(),L(jl,{key:5,application:b.application,house:b.house,departments:b.departments},null,8,["application","house","departments"])):w("",!0)])],64))}});export{Tl as default};
